<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event category="STEP" id="0">
  <actions>
    <action id="605" library="1">
      <!--action name: Comment-->
      <kind>NORMAL</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>false</canApplyTo>
      <actionType>NONE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">vertical</argument>
      </arguments>
    </action>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">
//falling

//impose maximum falling speed
if (fall_speed&gt;max_fall_speed)
{
    fall_speed=max_fall_speed;
}

//check for and handle vertical collisions or apply vertical movement
if place_free(x,y+fall_speed)
{
    y+=fall_speed;
}
else
{
    if (fall_speed&gt;0)
    {
        move_contact_solid(270,fall_speed);
    }
    else
    {
        move_contact_solid(90,fall_speed);
    }
    fall_speed=0;
}

//apply gravity
fall_speed+=1;

//detect jump 
if keyboard_check(ord('W'))||keyboard_check(vk_up)
{
    if !place_free(x,y+1)
    {
        fall_speed=jump_speed;
    }
}
</argument>
      </arguments>
    </action>
    <action id="605" library="1">
      <!--action name: Comment-->
      <kind>NORMAL</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>false</canApplyTo>
      <actionType>NONE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">horizontal</argument>
      </arguments>
    </action>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">//horizontal movement
//left
if keyboard_check(ord('A'))||keyboard_check(vk_left)
{
    if !keyboard_check(ord('D'))&amp;&amp;!keyboard_check(vk_right)
    {
    sprite_index=spt_player_left;
        if place_free(x-(move_speed),y)
        {
            x-=move_speed;
        }
        else
        {
            move_contact_solid(180,move_speed);
        }
    }
    else
    {
        sprite_index=spt_player_front;
    }
}
//right
else if keyboard_check(ord('D'))||keyboard_check(vk_right)
{
    sprite_index=spt_player_right;
    if place_free(x+(move_speed),y)
    {
        x+=move_speed;
    }
    else
    {
        move_contact_solid(0,move_speed);
    }
}
//neither
else
{
        sprite_index=spt_player_front;
}













    
</argument>
      </arguments>
    </action>
    <action id="605" library="1">
      <!--action name: Comment-->
      <kind>NORMAL</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>false</canApplyTo>
      <actionType>NONE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">poison</argument>
      </arguments>
    </action>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">if alarm[0]&gt;0
{
    instance_create(x+sprite_width/2,y+sprite_height/2,obj_poison_bubble);
}
</argument>
      </arguments>
    </action>
    <action id="408" library="1">
      <!--action name: If-->
      <kind>NORMAL</kind>
      <allowRelative>false</allowRelative>
      <question>true</question>
      <canApplyTo>true</canApplyTo>
      <actionType>FUNCTION</actionType>
      <functionName>action_if</functionName>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="EXPRESSION">image_xscale&lt;.25</argument>
      </arguments>
    </action>
    <action id="422" library="1">
      <!--action name: Start_Block-->
      <kind>BEGIN</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>false</canApplyTo>
      <actionType>NONE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments/>
    </action>
    <action id="408" library="1">
      <!--action name: If-->
      <kind>NORMAL</kind>
      <allowRelative>false</allowRelative>
      <question>true</question>
      <canApplyTo>true</canApplyTo>
      <actionType>FUNCTION</actionType>
      <functionName>action_if</functionName>
      <relative>false</relative>
      <not>true</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="EXPRESSION">room=editor</argument>
      </arguments>
    </action>
    <action id="223" library="1">
      <!--action name: Current_Room-->
      <kind>NORMAL</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>false</canApplyTo>
      <actionType>FUNCTION</actionType>
      <functionName>action_current_room</functionName>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="MENU">0</argument>
      </arguments>
    </action>
    <action id="421" library="1">
      <!--action name: Else-->
      <kind>ELSE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>false</canApplyTo>
      <actionType>NONE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments/>
    </action>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">
    with obj_dead_player
    {
        instance_destroy();
    }
    with obj_player
    {
        instance_destroy();
    }
    with obj_floor
    {
        instance_destroy();
    }
    with obj_portal
    {
        instance_destroy();
    }
    with obj_killer
    {
        instance_destroy();
    }
    with obj_kill_no_body
    {
        instance_destroy();
    }
    with obj_inactive_portal
    {
        instance_destroy();
    }
    with obj_button_left
    {
        instance_destroy();
    }
    with obj_button_right
    {
        instance_destroy();
    }
    with obj_grow
    {
        instance_destroy();
    }
    with obj_shrink
    {
        instance_destroy();
    }
    with obj_spring
    {
        instance_destroy();
    }
    with obj_pressure_pad
    {
        instance_destroy();
    }
    with obj_disappearing_floor
    {
        instance_destroy();
    }
    with obj_poison
    {
        instance_destroy();
    }
    with obj_dead_player
    {
        instance_destroy();
    }
    instance_activate_all();
</argument>
      </arguments>
    </action>
    <action id="424" library="1">
      <!--action name: End_Block-->
      <kind>END</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>false</canApplyTo>
      <actionType>NONE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments/>
    </action>
  </actions>
</event>
